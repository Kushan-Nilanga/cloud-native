<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2846px" preserveAspectRatio="none" style="width:798px;height:2846px;background:#FFFFFF;" version="1.1" viewBox="0 0 798 2846" width="798px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="146.5527" style="stroke:#000000;stroke-width:1.5;" width="285" x="233.5" y="266.3516"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="263" x="508.5" y="456.2148"/><rect fill="none" height="146.5527" style="stroke:#000000;stroke-width:1.5;" width="285" x="233.5" y="813.9414"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="263" x="508.5" y="1003.8047"/><rect fill="none" height="146.5527" style="stroke:#000000;stroke-width:1.5;" width="285" x="233.5" y="1321.5313"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="263" x="508.5" y="1592.6367"/><rect fill="none" height="146.5527" style="stroke:#000000;stroke-width:1.5;" width="285" x="233.5" y="1910.3633"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="263" x="508.5" y="2181.4688"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="263" x="508.5" y="2616.127"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="84" x2="84" y1="67.4883" y2="2767.6797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="287.5" x2="287.5" y1="67.4883" y2="2767.6797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="458.5" x2="458.5" y1="67.4883" y2="2767.6797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="568.5" x2="568.5" y1="67.4883" y2="2767.6797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="694.5" x2="694.5" y1="67.4883" y2="2767.6797"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="20" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="27" y="56.5352">frontend-service</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="20" y="2766.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="27" y="2787.2148">frontend-service</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="243.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="250.5" y="56.5352">bff-service</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="243.5" y="2766.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="250.5" y="2787.2148">bff-service</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="408.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="415.5" y="56.5352">auth-service</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="408.5" y="2766.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="415.5" y="2787.2148">auth-service</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="518.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="525.5" y="56.5352">note-service</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="518.5" y="2766.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="525.5" y="2787.2148">note-service</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="628.5" y="64.5352">Notes (DynamoDB)</text><path d="M677,15 C677,5 695,5 695,5 C695,5 713,5 713,15 L713,41 C713,51 695,51 695,51 C695,51 677,51 677,41 L677,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M677,15 C677,25 695,25 695,25 C695,25 713,25 713,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="628.5" y="2780.2148">Notes (DynamoDB)</text><path d="M677,2793.168 C677,2783.168 695,2783.168 695,2783.168 C695,2783.168 713,2783.168 713,2793.168 L713,2819.168 C713,2829.168 695,2829.168 695,2829.168 C695,2829.168 677,2829.168 677,2819.168 L677,2793.168 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M677,2793.168 C677,2803.168 695,2803.168 695,2803.168 C695,2803.168 713,2803.168 713,2793.168 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="791.5" x="0" y="98.1436"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="791.5" y1="98.1436" y2="98.1436"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="791.5" y1="101.1436" y2="101.1436"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="121" x="335.25" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="103" x="341.25" y="104.0566">NOTES SERVICE</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="791.5" x="0" y="141.4541"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="791.5" y1="141.4541" y2="141.4541"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="791.5" y1="144.4541" y2="144.4541"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="84" x="353.75" y="130.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66" x="359.75" y="147.3672">List Notes</text><polygon fill="#181818" points="275.5,181.4199,285.5,185.4199,275.5,189.4199,279.5,185.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="84.5" x2="281.5" y1="185.4199" y2="185.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="91.5" y="180.6777">GET /api/notes/</text><path d="M89,198.4199 L89,253.4199 L208,253.4199 L208,208.4199 L198,198.4199 L89,198.4199 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M198,198.4199 L198,208.4199 L208,208.4199 L198,198.4199 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="95" y="215.9883">Header</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="95" y="231.2988">Authorization:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="95" y="246.6094">Bearer &lt;token&gt;</text><path d="M233.5,266.3516 L378.5,266.3516 L378.5,273.6621 L368.5,283.6621 L233.5,283.6621 L233.5,266.3516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="146.5527" style="stroke:#000000;stroke-width:1.5;" width="285" x="233.5" y="266.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="100" x="248.5" y="279.9199">Authentication</text><polygon fill="#181818" points="446.5,300.9727,456.5,304.9727,446.5,308.9727,450.5,304.9727" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5" x2="452.5" y1="304.9727" y2="304.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="294.5" y="300.2305">POST /api/authenticate</text><path d="M292,317.9727 L292,342.9727 L357,342.9727 L357,327.9727 L347,317.9727 L292,317.9727 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M347,317.9727 L347,327.9727 L357,327.9727 L347,317.9727 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="298" y="335.541">{token}</text><polygon fill="#181818" points="298.5,365.5938,288.5,369.5938,298.5,373.5938,294.5,369.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="292.5" x2="457.5" y1="369.5938" y2="369.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="304.5" y="364.8516">200 OK</text><path d="M358,382.5938 L358,407.5938 L453,407.5938 L453,392.5938 L443,382.5938 L358,382.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M443,382.5938 L443,392.5938 L453,392.5938 L443,382.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="364" y="400.1621">AuthOutput</text><polygon fill="#181818" points="556.5,437.2148,566.5,441.2148,556.5,445.2148,560.5,441.2148" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5" x2="562.5" y1="441.2148" y2="441.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="294.5" y="436.4727">GET /api/notes/{userid}</text><path d="M508.5,456.2148 L608.5,456.2148 L608.5,463.5254 L598.5,473.5254 L508.5,473.5254 L508.5,456.2148 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="263" x="508.5" y="456.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="55" x="523.5" y="469.7832">aws-api</text><polygon fill="#181818" points="683,490.8359,693,494.8359,683,498.8359,687,494.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="568.5" x2="689" y1="494.8359" y2="494.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="575.5" y="490.0938">GET</text><polygon fill="#181818" points="579.5,520.1465,569.5,524.1465,579.5,528.1465,575.5,524.1465" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="573.5" x2="694" y1="524.1465" y2="524.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="585.5" y="519.4043">200 OK</text><polygon fill="#181818" points="298.5,556.457,288.5,560.457,298.5,564.457,294.5,560.457" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="292.5" x2="567.5" y1="560.457" y2="560.457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="304.5" y="555.7148">200 OK</text><path d="M312,573.457 L312,598.457 L563,598.457 L563,583.457 L553,573.457 L312,573.457 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M553,573.457 L553,583.457 L563,583.457 L553,573.457 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="318" y="591.0254">[{id, title, content, created, updated}]</text><polygon fill="#181818" points="95.5,621.0781,85.5,625.0781,95.5,629.0781,91.5,625.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="89.5" x2="286.5" y1="625.0781" y2="625.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="101.5" y="620.3359">200 OK</text><path d="M31,638.0781 L31,663.0781 L282,663.0781 L282,648.0781 L272,638.0781 L31,638.0781 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M272,638.0781 L272,648.0781 L282,648.0781 L272,638.0781 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="37" y="655.6465">[{id, title, content, created, updated}]</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="791.5" x="0" y="689.0439"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="791.5" y1="689.0439" y2="689.0439"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="791.5" y1="692.0439" y2="692.0439"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="76" x="357.75" y="678.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="58" x="363.75" y="694.957">Get Note</text><polygon fill="#181818" points="275.5,729.0098,285.5,733.0098,275.5,737.0098,279.5,733.0098" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="84.5" x2="281.5" y1="733.0098" y2="733.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="91.5" y="728.2676">GET /api/notes/{created}</text><path d="M89,746.0098 L89,801.0098 L208,801.0098 L208,756.0098 L198,746.0098 L89,746.0098 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M198,746.0098 L198,756.0098 L208,756.0098 L198,746.0098 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="95" y="763.5781">Header</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="95" y="778.8887">Authorization:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="95" y="794.1992">Bearer &lt;token&gt;</text><path d="M233.5,813.9414 L378.5,813.9414 L378.5,821.252 L368.5,831.252 L233.5,831.252 L233.5,813.9414 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="146.5527" style="stroke:#000000;stroke-width:1.5;" width="285" x="233.5" y="813.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="100" x="248.5" y="827.5098">Authentication</text><polygon fill="#181818" points="446.5,848.5625,456.5,852.5625,446.5,856.5625,450.5,852.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5" x2="452.5" y1="852.5625" y2="852.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="294.5" y="847.8203">POST /api/authenticate</text><path d="M292,865.5625 L292,890.5625 L357,890.5625 L357,875.5625 L347,865.5625 L292,865.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M347,865.5625 L347,875.5625 L357,875.5625 L347,865.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="298" y="883.1309">{token}</text><polygon fill="#181818" points="298.5,913.1836,288.5,917.1836,298.5,921.1836,294.5,917.1836" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="292.5" x2="457.5" y1="917.1836" y2="917.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="304.5" y="912.4414">200 OK</text><path d="M358,930.1836 L358,955.1836 L453,955.1836 L453,940.1836 L443,930.1836 L358,930.1836 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M443,930.1836 L443,940.1836 L453,940.1836 L443,930.1836 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="364" y="947.752">AuthOutput</text><polygon fill="#181818" points="556.5,984.8047,566.5,988.8047,556.5,992.8047,560.5,988.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5" x2="562.5" y1="988.8047" y2="988.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="294.5" y="984.0625">GET /api/notes/{userid}/{created}</text><path d="M508.5,1003.8047 L608.5,1003.8047 L608.5,1011.1152 L598.5,1021.1152 L508.5,1021.1152 L508.5,1003.8047 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="263" x="508.5" y="1003.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="55" x="523.5" y="1017.373">aws-api</text><polygon fill="#181818" points="683,1038.4258,693,1042.4258,683,1046.4258,687,1042.4258" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="568.5" x2="689" y1="1042.4258" y2="1042.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="575.5" y="1037.6836">GET</text><polygon fill="#181818" points="579.5,1067.7363,569.5,1071.7363,579.5,1075.7363,575.5,1071.7363" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="573.5" x2="694" y1="1071.7363" y2="1071.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="585.5" y="1066.9941">200 OK</text><polygon fill="#181818" points="298.5,1104.0469,288.5,1108.0469,298.5,1112.0469,294.5,1108.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="292.5" x2="567.5" y1="1108.0469" y2="1108.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="304.5" y="1103.3047">200 OK</text><polygon fill="#181818" points="95.5,1133.3574,85.5,1137.3574,95.5,1141.3574,91.5,1137.3574" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="89.5" x2="286.5" y1="1137.3574" y2="1137.3574"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="101.5" y="1132.6152">200 OK</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="791.5" x="0" y="1166.0127"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="791.5" y1="1166.0127" y2="1166.0127"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="791.5" y1="1169.0127" y2="1169.0127"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="97" x="347.25" y="1155.3574"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79" x="353.25" y="1171.9258">Create Note</text><polygon fill="#181818" points="275.5,1205.9785,285.5,1209.9785,275.5,1213.9785,279.5,1209.9785" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="84.5" x2="281.5" y1="1209.9785" y2="1209.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="91.5" y="1205.2363">POST /api/notes/</text><path d="M89,1222.9785 L89,1308.9785 L208,1308.9785 L208,1232.9785 L198,1222.9785 L89,1222.9785 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M198,1222.9785 L198,1232.9785 L208,1232.9785 L198,1222.9785 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="95" y="1240.5469">Header</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="95" y="1255.8574">Authorization:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="95" y="1271.168">Bearer &lt;token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="95" y="1286.4785">Body</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="95" y="1301.7891">{title, content}</text><path d="M233.5,1321.5313 L378.5,1321.5313 L378.5,1328.8418 L368.5,1338.8418 L233.5,1338.8418 L233.5,1321.5313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="146.5527" style="stroke:#000000;stroke-width:1.5;" width="285" x="233.5" y="1321.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="100" x="248.5" y="1335.0996">Authentication</text><polygon fill="#181818" points="446.5,1356.1523,456.5,1360.1523,446.5,1364.1523,450.5,1360.1523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5" x2="452.5" y1="1360.1523" y2="1360.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="294.5" y="1355.4102">POST /api/authenticate</text><path d="M292,1373.1523 L292,1398.1523 L357,1398.1523 L357,1383.1523 L347,1373.1523 L292,1373.1523 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M347,1373.1523 L347,1383.1523 L357,1383.1523 L347,1373.1523 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="298" y="1390.7207">{token}</text><polygon fill="#181818" points="298.5,1420.7734,288.5,1424.7734,298.5,1428.7734,294.5,1424.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="292.5" x2="457.5" y1="1424.7734" y2="1424.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="304.5" y="1420.0313">200 OK</text><path d="M358,1437.7734 L358,1462.7734 L453,1462.7734 L453,1447.7734 L443,1437.7734 L358,1437.7734 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M443,1437.7734 L443,1447.7734 L453,1447.7734 L443,1437.7734 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="364" y="1455.3418">AuthOutput</text><polygon fill="#181818" points="556.5,1492.3945,566.5,1496.3945,556.5,1500.3945,560.5,1496.3945" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5" x2="562.5" y1="1496.3945" y2="1496.3945"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="294.5" y="1491.6523">POST /api/notes/{userid}</text><path d="M292,1509.3945 L292,1580.3945 L419,1580.3945 L419,1519.3945 L409,1509.3945 L292,1509.3945 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M409,1509.3945 L409,1519.3945 L419,1519.3945 L409,1509.3945 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="298" y="1526.9629">Body</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="298" y="1542.2734">{userid, title,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="298" y="1557.584">content, created,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="298" y="1572.8945">updated}</text><path d="M508.5,1592.6367 L608.5,1592.6367 L608.5,1599.9473 L598.5,1609.9473 L508.5,1609.9473 L508.5,1592.6367 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="263" x="508.5" y="1592.6367"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="55" x="523.5" y="1606.2051">aws-api</text><polygon fill="#181818" points="683,1627.2578,693,1631.2578,683,1635.2578,687,1631.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="568.5" x2="689" y1="1631.2578" y2="1631.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="575.5" y="1626.5156">POST</text><polygon fill="#181818" points="579.5,1656.5684,569.5,1660.5684,579.5,1664.5684,575.5,1660.5684" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="573.5" x2="694" y1="1660.5684" y2="1660.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="585.5" y="1655.8262">200 OK</text><polygon fill="#181818" points="298.5,1692.8789,288.5,1696.8789,298.5,1700.8789,294.5,1696.8789" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="292.5" x2="567.5" y1="1696.8789" y2="1696.8789"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="304.5" y="1692.1367">200 OK</text><polygon fill="#181818" points="95.5,1722.1895,85.5,1726.1895,95.5,1730.1895,91.5,1726.1895" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="89.5" x2="286.5" y1="1726.1895" y2="1726.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="101.5" y="1721.4473">200 OK</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="791.5" x="0" y="1754.8447"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="791.5" y1="1754.8447" y2="1754.8447"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="791.5" y1="1757.8447" y2="1757.8447"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="102" x="344.75" y="1744.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="84" x="350.75" y="1760.7578">Update Note</text><polygon fill="#181818" points="275.5,1794.8105,285.5,1798.8105,275.5,1802.8105,279.5,1798.8105" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="84.5" x2="281.5" y1="1798.8105" y2="1798.8105"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="91.5" y="1794.0684">PUT /api/notes/{created}</text><path d="M89,1811.8105 L89,1897.8105 L208,1897.8105 L208,1821.8105 L198,1811.8105 L89,1811.8105 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M198,1811.8105 L198,1821.8105 L208,1821.8105 L198,1811.8105 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="95" y="1829.3789">Header</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="95" y="1844.6895">Authorization:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="95" y="1860">Bearer &lt;token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="95" y="1875.3105">Body</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="95" y="1890.6211">{title, content}</text><path d="M233.5,1910.3633 L378.5,1910.3633 L378.5,1917.6738 L368.5,1927.6738 L233.5,1927.6738 L233.5,1910.3633 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="146.5527" style="stroke:#000000;stroke-width:1.5;" width="285" x="233.5" y="1910.3633"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="100" x="248.5" y="1923.9316">Authentication</text><polygon fill="#181818" points="446.5,1944.9844,456.5,1948.9844,446.5,1952.9844,450.5,1948.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5" x2="452.5" y1="1948.9844" y2="1948.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="294.5" y="1944.2422">POST /api/authenticate</text><path d="M292,1961.9844 L292,1986.9844 L357,1986.9844 L357,1971.9844 L347,1961.9844 L292,1961.9844 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M347,1961.9844 L347,1971.9844 L357,1971.9844 L347,1961.9844 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="298" y="1979.5527">{token}</text><polygon fill="#181818" points="298.5,2009.6055,288.5,2013.6055,298.5,2017.6055,294.5,2013.6055" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="292.5" x2="457.5" y1="2013.6055" y2="2013.6055"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="304.5" y="2008.8633">200 OK</text><path d="M358,2026.6055 L358,2051.6055 L453,2051.6055 L453,2036.6055 L443,2026.6055 L358,2026.6055 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M443,2026.6055 L443,2036.6055 L453,2036.6055 L443,2026.6055 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="364" y="2044.1738">AuthOutput</text><polygon fill="#181818" points="556.5,2081.2266,566.5,2085.2266,556.5,2089.2266,560.5,2085.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5" x2="562.5" y1="2085.2266" y2="2085.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="294.5" y="2080.4844">PUT /api/notes/{userid}/{created}</text><path d="M292,2098.2266 L292,2169.2266 L419,2169.2266 L419,2108.2266 L409,2098.2266 L292,2098.2266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M409,2098.2266 L409,2108.2266 L419,2108.2266 L409,2098.2266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="298" y="2115.7949">Body</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="298" y="2131.1055">{userid, id, title,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="298" y="2146.416">content, created,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="298" y="2161.7266">updated}</text><path d="M508.5,2181.4688 L608.5,2181.4688 L608.5,2188.7793 L598.5,2198.7793 L508.5,2198.7793 L508.5,2181.4688 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="263" x="508.5" y="2181.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="55" x="523.5" y="2195.0371">aws-api</text><polygon fill="#181818" points="683,2216.0898,693,2220.0898,683,2224.0898,687,2220.0898" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="568.5" x2="689" y1="2220.0898" y2="2220.0898"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="575.5" y="2215.3477">PUT</text><polygon fill="#181818" points="579.5,2245.4004,569.5,2249.4004,579.5,2253.4004,575.5,2249.4004" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="573.5" x2="694" y1="2249.4004" y2="2249.4004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="585.5" y="2244.6582">200 OK</text><polygon fill="#181818" points="298.5,2281.7109,288.5,2285.7109,298.5,2289.7109,294.5,2285.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="292.5" x2="567.5" y1="2285.7109" y2="2285.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="304.5" y="2280.9688">200 OK</text><polygon fill="#181818" points="95.5,2311.0215,85.5,2315.0215,95.5,2319.0215,91.5,2315.0215" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="89.5" x2="286.5" y1="2315.0215" y2="2315.0215"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="101.5" y="2310.2793">200 OK</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="791.5" x="0" y="2343.6768"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="791.5" y1="2343.6768" y2="2343.6768"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="791.5" y1="2346.6768" y2="2346.6768"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="96" x="347.75" y="2333.0215"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="78" x="353.75" y="2349.5898">Delete Note</text><polygon fill="#181818" points="275.5,2383.6426,285.5,2387.6426,275.5,2391.6426,279.5,2387.6426" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="84.5" x2="281.5" y1="2387.6426" y2="2387.6426"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="91.5" y="2382.9004">DELETE /api/notes/{created}</text><path d="M89,2400.6426 L89,2455.6426 L208,2455.6426 L208,2410.6426 L198,2400.6426 L89,2400.6426 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M198,2400.6426 L198,2410.6426 L208,2410.6426 L198,2400.6426 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="95" y="2418.2109">Header</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="95" y="2433.5215">Authorization</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="95" y="2448.832">Bearer &lt;token&gt;</text><polygon fill="#181818" points="446.5,2503.1953,456.5,2507.1953,446.5,2511.1953,450.5,2507.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5" x2="452.5" y1="2507.1953" y2="2507.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="294.5" y="2502.4531">POST /api/authenticate</text><path d="M292,2520.1953 L292,2545.1953 L357,2545.1953 L357,2530.1953 L347,2520.1953 L292,2520.1953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M347,2520.1953 L347,2530.1953 L357,2530.1953 L347,2520.1953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="298" y="2537.7637">{token}</text><polygon fill="#181818" points="298.5,2567.8164,288.5,2571.8164,298.5,2575.8164,294.5,2571.8164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="292.5" x2="457.5" y1="2571.8164" y2="2571.8164"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="304.5" y="2567.0742">200 OK</text><polygon fill="#181818" points="556.5,2597.127,566.5,2601.127,556.5,2605.127,560.5,2601.127" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="287.5" x2="562.5" y1="2601.127" y2="2601.127"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="294.5" y="2596.3848">DELETE /api/notes/{userid}/{created}</text><path d="M508.5,2616.127 L608.5,2616.127 L608.5,2623.4375 L598.5,2633.4375 L508.5,2633.4375 L508.5,2616.127 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="263" x="508.5" y="2616.127"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="55" x="523.5" y="2629.6953">aws-api</text><polygon fill="#181818" points="683,2650.748,693,2654.748,683,2658.748,687,2654.748" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="568.5" x2="689" y1="2654.748" y2="2654.748"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="575.5" y="2650.0059">DELETE</text><polygon fill="#181818" points="579.5,2680.0586,569.5,2684.0586,579.5,2688.0586,575.5,2684.0586" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="573.5" x2="694" y1="2684.0586" y2="2684.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="585.5" y="2679.3164">200 OK</text><polygon fill="#181818" points="298.5,2716.3691,288.5,2720.3691,298.5,2724.3691,294.5,2720.3691" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="292.5" x2="567.5" y1="2720.3691" y2="2720.3691"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="304.5" y="2715.627">200 OK</text><polygon fill="#181818" points="95.5,2745.6797,85.5,2749.6797,95.5,2753.6797,91.5,2749.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="89.5" x2="286.5" y1="2749.6797" y2="2749.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="101.5" y="2744.9375">200 OK</text><!--MD5=[dc0ddeb78c898d1e2c119d0c0511d25f]
@startuml

participant "frontend-service" as front
participant "bff-service" as bff
participant "auth-service" as auth
participant "note-service" as notes
database "Notes (DynamoDB)" as dynamodb

== NOTES SERVICE ==
== List Notes ==

front -> bff: GET /api/notes/
note right of front
    Header
    Authorization:
    Bearer <token>
end note

group Authentication
    bff -> auth: POST /api/authenticate
    note right of bff: {token}

    auth - -> bff: 200 OK
    note left of auth: AuthOutput
end

bff -> notes: GET /api/notes/{userid}

group aws-api
    notes -> dynamodb: GET
    dynamodb - -> notes: 200 OK
end

notes - -> bff: 200 OK
note left of notes
    [{id, title, content, created, updated}]
end note

bff - -> front: 200 OK
note left of bff
    [{id, title, content, created, updated}]
end note

== Get Note ==
front -> bff: GET /api/notes/{created}
note right of front
    Header
    Authorization:
    Bearer <token>
end note

group Authentication
    bff -> auth: POST /api/authenticate
    note right of bff: {token}

    auth - -> bff: 200 OK
    note left of auth: AuthOutput
end

bff -> notes: GET /api/notes/{userid}/{created}

group aws-api
    notes -> dynamodb: GET
    dynamodb - -> notes: 200 OK
end

notes - -> bff: 200 OK

bff - -> front: 200 OK

== Create Note ==
front -> bff: POST /api/notes/
note right of front
    Header
    Authorization:
    Bearer <token>
    Body
    {title, content}
end note

group Authentication
    bff -> auth: POST /api/authenticate
    note right of bff: {token}

    auth - -> bff: 200 OK
    note left of auth: AuthOutput
end

bff -> notes: POST /api/notes/{userid}
note right of bff
    Body
    {userid, title,
    content, created,
    updated}
end note

group aws-api
    notes -> dynamodb: POST
    dynamodb - -> notes: 200 OK
end

notes - -> bff: 200 OK

bff - -> front: 200 OK

== Update Note ==

front -> bff: PUT /api/notes/{created}
note right of front
    Header
    Authorization:
    Bearer <token>
    Body
    {title, content}
end note

group Authentication
    bff -> auth: POST /api/authenticate
    note right of bff: {token}

    auth - -> bff: 200 OK
    note left of auth: AuthOutput
end

bff -> notes: PUT /api/notes/{userid}/{created}
note right of bff
    Body
    {userid, id, title,
    content, created,
    updated}
end note

group aws-api
    notes -> dynamodb: PUT
    dynamodb - -> notes: 200 OK
end

notes - -> bff: 200 OK

bff - -> front: 200 OK

== Delete Note ==

front -> bff: DELETE /api/notes/{created}
note right of front
    Header
    Authorization
    Bearer <token>
end note

group Authentication
    bff -> auth: POST /api/authenticate
    note right of bff: {token}

    auth - -> bff: 200 OK

    bff -> notes: DELETE /api/notes/{userid}/{created}

    group aws-api
        notes -> dynamodb: DELETE
        dynamodb - -> notes: 200 OK
    end

    notes - -> bff: 200 OK

    bff - -> front: 200 OK

    @enduml

PlantUML version 1.2022.7(Tue Aug 23 03:01:30 AEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>